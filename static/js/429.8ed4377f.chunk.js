"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[429],{5:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ee});var r,s,a,i=t(168),l=t(867);const c=l.ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),o=l.ZP.section(s||(s=(0,i.Z)(["\n  display: grid;\n  gap: 4px;\n"]))),d=l.ZP.h2(a||(a=(0,i.Z)(["\n  margin: 0;\n  font-size: 16px;\n"])));var u=t(184);const p=e=>{let{barName:n,filterName:t,children:r}=e;return(0,u.jsxs)(c,{children:[(0,u.jsxs)(o,{children:[(0,u.jsxs)(d,{children:[n,":"]}),r[0]]}),(0,u.jsxs)(o,{children:[(0,u.jsxs)(d,{children:[t,":"]}),r[1]]})]})};var x;const m=l.ZP.main(x||(x=(0,i.Z)(["\n  display: grid;\n  gap: 16px;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 16px;\n"]))),h=e=>{let{children:n}=e;return(0,u.jsx)(m,{children:n})};var f,g,b,j,Z=t(791),v=t(85);t(542);const y=l.ZP.form(f||(f=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  gap: 0 10px;\n"]))),C=l.ZP.label(g||(g=(0,i.Z)(["\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n"]))),P=l.ZP.input(b||(b=(0,i.Z)(["\n  flex-grow: 1;\n  padding: 8px;\n  font: inherit;\n\n  &:focus {\n    outline-color: orangered;\n  }\n"]))),w=l.ZP.button(j||(j=(0,i.Z)(["\n  display: inline-flex;\n  padding: 10px 12px;\n  border-radius: 4px;\n  border: none;\n  font: inherit;\n  cursor: ",";\n  background-color: #e2e5e8;\n  color: ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: ",";\n  }\n"])),(e=>e.disabled?"":"pointer"),(e=>e.disabled?"white":"black"),(e=>e.disabled?"":"white"),(e=>e.disabled?"":"orangered"));var A=t(420),F=t(52);const O=()=>{const[e,n]=(0,Z.useState)(""),[t,r]=(0,Z.useState)(""),[s,a]=(0,Z.useState)(!1),i=(0,A.I0)();(0,Z.useEffect)((()=>{a(!(!e||!t))}),[e,t]);const l=e=>{"name"===e.target.id?n(e.target.value):r(e.target.value)};return(0,u.jsxs)(y,{onSubmit:async s=>{s.preventDefault();const a={name:e,number:t};try{await i(F.Z.createContact(a)),v.Am.success("Contact: ".concat(e," - added!"),{position:v.Am.POSITION.TOP_RIGHT}),n(""),r("")}catch(l){v.Am.error(l.message,{position:v.Am.POSITION.TOP_RIGHT})}},children:[(0,u.jsxs)(C,{htmlFor:"name",children:["Name",(0,u.jsx)(P,{type:"text",id:"name",value:e,onChange:l,minLength:"2",placeholder:"Enter name...",required:!0,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,u.jsxs)(C,{htmlFor:"number",children:["Number",(0,u.jsx)(P,{type:"tel",id:"number",value:t,onChange:l,minLength:"2",placeholder:"Enter number...",required:!0,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be digits and can contain spaces, dashes, parentheses and can start with +"})]}),(0,u.jsx)(w,{type:"submit",disabled:!s,children:"Add"}),(0,u.jsx)(v.Ix,{autoClose:2500})]})};var N,I=t(87);const k=l.ZP.p(N||(N=(0,i.Z)(["\n  margin: 0;\n\n  > span {\n    color: orangered;\n  }\n"]))),S=e=>{let{numberOfContacts:n,numberOfFilteredContacts:t,isFiltered:r}=e;const[s]=(0,I.lr)();let a=0;return s.get("filter")&&(a=t),(0,u.jsxs)("div",{children:[(0,u.jsxs)(k,{children:["Total - ",(0,u.jsx)("span",{children:n})]}),r&&(0,u.jsxs)(k,{children:["Filtered - ",(0,u.jsx)("span",{children:a})]})]})};var E;const L=l.ZP.input(E||(E=(0,i.Z)(["\n  flex-grow: 1;\n  padding: 8px;\n  font: inherit;\n\n  &:focus {\n    outline-color: orangered;\n  }\n"]))),T=e=>{let{setIsFiltered:n}=e;const[t,r]=(0,I.lr)();(0,Z.useEffect)((()=>{n(!1),t.get("filter")&&n(!0)}),[t,n]);return(0,u.jsx)("div",{children:(0,u.jsx)(L,{type:"text",name:"text",value:(e=>{if(e.get("filter")){return e.get("filter")}return""})(t),onChange:e=>{r({filter:e.target.value})},placeholder:"Enter searched name..."})})};var z,_,q,G=t(322);const H=l.ZP.div(z||(z=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 0;\n"]))),R=l.ZP.p(_||(_=(0,i.Z)(["\n  flex-grow: 1;\n"]))),B=l.ZP.button(q||(q=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  margin: 0;\n  border: none;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n\n  color: #f44336;\n\n  &:hover {\n    background-color: #e2e5e8;\n  }\n  &:active {\n    background-color: #bdbdbd;\n  }\n"]))),D=e=>{let{contact:n}=e;const t=(0,A.I0)();return(0,u.jsxs)(H,{children:[(0,u.jsxs)(R,{children:[n.name,": ",n.number]}),(0,u.jsx)(B,{onClick:()=>(async e=>{try{await t(F.Z.deleteContact(e)),v.Am.success("Contact: ".concat(n.name," - deleted!"))}catch(r){v.Am.error(r.message)}})(n.id),children:(0,u.jsx)(G.FU5,{size:24})})]})};var J,M,U;const $=l.ZP.div(J||(J=(0,i.Z)(["\n  > div {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),K=l.ZP.ul(M||(M=(0,i.Z)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),Q=l.ZP.li(U||(U=(0,i.Z)(["\n  & + & {\n    border-top: 1px solid #2f2f37;\n  }\n"]))),V=e=>e.contacts.contacts,W=e=>e.contacts.isLoading;var X=t(258);const Y=e=>{let{setNumberOfContacts:n,setNumberOfFilteredContacts:t}=e;const r=(0,A.I0)(),s=(0,A.v9)(V),a=(0,A.v9)(W),[i]=(0,I.lr)();(0,Z.useEffect)((()=>{r(F.Z.fetchContacts())}),[r]),(0,Z.useEffect)((()=>{let e="";if(i.get("filter")&&(e=i.get("filter")),Array.isArray(s)){const r=s.filter((n=>n.name.toLowerCase().includes(e.toLowerCase())));n(s.length),t(r.length)}}),[a,i,s,n,t]);const l=e=>{if(Array.isArray(e)){const n=e.filter((e=>e.name.toLowerCase().includes((e=>e.get("filter")?e.get("filter"):"")(i).toLowerCase())));return n}return null};return(0,u.jsxs)($,{children:[(0,u.jsx)("div",{children:a&&(0,u.jsx)(X.a,{})}),(0,u.jsx)(K,{children:l(s)&&l(s).map((e=>(0,u.jsx)(Q,{children:(0,u.jsx)(D,{contact:e})},e.id)))})]})},ee=()=>{const[e,n]=(0,Z.useState)(0),[t,r]=(0,Z.useState)(0),[s,a]=(0,Z.useState)(!1);return(0,u.jsxs)(h,{children:[(0,u.jsxs)(p,{barName:"Contacts",filterName:"Find contact by name",children:[(0,u.jsx)(S,{numberOfContacts:e,numberOfFilteredContacts:t,isFiltered:s}),(0,u.jsx)(T,{setIsFiltered:a})]}),(0,u.jsx)(O,{}),(0,u.jsx)(Y,{setNumberOfContacts:n,setNumberOfFilteredContacts:r})]})}}}]);
//# sourceMappingURL=429.8ed4377f.chunk.js.map